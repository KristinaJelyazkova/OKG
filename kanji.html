<!DOCTYPE html>

<html>
	<head>
		<script src="three.min.js"></script>
		<script src="kanji.js"></script>
		<script src="ThreeCSG.js"> </script>
	</head>
	
	<body onload="main()">
		<h1>ф.н. 81495 &ndash; група 5 &ndash; Кристина Желязкова</h1>

		<script>
			var material = new THREE.MeshPhongMaterial({color:'gray',shininess:100});
			
			// Дефинираме елементите на горната-дясна половина (с имена по наш избор).
			var geometry = new THREE.BoxGeometry(10.9, 1.5, 10);
			var line1 = new THREE.Mesh(geometry, material);
			line1.position.set(3.6, 4.15, 0);

			var shape = new THREE.Shape();
			shape.moveTo(4, 10);
			shape.quadraticCurveTo(5, -4, 5.2, -5.2);
			shape.lineTo(8.95, -8.95);
			shape.quadraticCurveTo( 9.7, -7.5, 9.6, -5.4);
			shape.lineTo(8.3, -4.7);
			shape.bezierCurveTo( 7.8, -10.6, 6.9, -8.4, 5.6, 10);
			shape.lineTo(4, 10);
	
			var extrudeSettings = {
			    curveSegments: 120,
				steps: 200,
				amount: 10,
				bevelEnabled: false
			};

			var geometry = new THREE.ExtrudeGeometry( shape, extrudeSettings );
			var line2 = new THREE.Mesh( geometry, material ) ;
			line2.position.z = -5;
			
			var shape = new THREE.Shape();
			shape.moveTo(5.9, 8.2);
			shape.quadraticCurveTo(7.3, 7, 8, 5.3);
			shape.lineTo(9.3, 6);
			shape.quadraticCurveTo(8.7, 7.8, 7, 9);
			shape.lineTo(5.9, 8.2);
			
			var geometry = new THREE.ExtrudeGeometry( shape, extrudeSettings );
			var line3 = new THREE.Mesh( geometry, material );
			line3.position.z = -5;
			
			var shape = new THREE.Shape();
			shape.moveTo(-8.9, 8.9);
			shape.lineTo(-8, 8);
			shape.lineTo(-2.5, 8);
			shape.lineTo(-2.5, 9.5);
			shape.lineTo(-8.9, 9.5);
			shape.lineTo(-8.9, 8.9);
			var geometry = new THREE.ExtrudeGeometry( shape, extrudeSettings );
			var line4 = new THREE.Mesh(geometry, material);
			line4.position.z = -5;
			
			var shape = new THREE.Shape();
			shape.moveTo(-3.6, 3.6);
			shape.lineTo(-2.5, 2.5);
			shape.lineTo(-2.5, 3.6);
			shape.lineTo(-3.6, 3.6);
			var geometry = new THREE.ExtrudeGeometry( shape, extrudeSettings );
			var line5 = new THREE.Mesh(geometry, material);
			line5.position.z = -5;
			
			var shape = new THREE.Shape();
			shape.moveTo(-0.2, 0.2);
			shape.lineTo(1.9, -1.9);
			shape.lineTo(1.9, -1);
			shape.lineTo(4, -1);
			shape.lineTo(4, 0.2);
			shape.lineTo(-0.2, 0.2);
			var geometry = new THREE.ExtrudeGeometry( shape, extrudeSettings );
			var line6 = new THREE.Mesh(geometry, material);
			line6.position.z = -5;
			
			var shape = new THREE.Shape();
			shape.moveTo(-6.6, 6.6);
			shape.lineTo(-5, 5);
			shape.lineTo(-1.8, 5);
			shape.lineTo(-1.8, 6.6);
			shape.lineTo(-6.6, 6.6);
			var geometry = new THREE.ExtrudeGeometry( shape, extrudeSettings );
			var line7 = new THREE.Mesh(geometry, material);
			line7.position.z = -5;
			
			// Добавяме ги към обекта PART1 (името е фиксирано).
			part1.add( line1, line2, line3, line4, line5, line6, line7 );
			
			// Дефинираме елементите на долната-лява половина (с имена по наш избор).
			
			var geometry = new THREE.BoxGeometry(6.2, 7.2, 10);
			var obj1 = new THREE.Mesh(geometry, material);
			obj1.position.set(-5.8, -6.4, 0);
			
			var geometry = new THREE.BoxGeometry( 3.1, 2.75, 10 );
			var sub1 = new THREE.Mesh(geometry, material);
			sub1.position.set(-5.8, -5.7, 0);
			
			var geometry = new THREE.BoxGeometry( 3.1, 1.6, 10 );
			var sub2 = new THREE.Mesh(geometry, material);
			sub2.position.set(-5.8, -9.2, 0);

			var bspObj1 = new ThreeBSP(obj1);
			var bspSub1 = new ThreeBSP(sub1);
			var bspSub2 = new ThreeBSP(sub2);
			var sub = bspSub1.union(bspSub2);
			var bspResult = bspObj1.subtract(sub);
			
			var line8 = bspResult.toMesh( new THREE.MeshPhongMaterial({color:'gray',shininess:100}) );
			
			var geometry = new THREE.BoxGeometry(6.4, 1.5, 10);
			var line9 = new THREE.Mesh(geometry, material);
			line9.position.set(-5.8, -0.2, 0);
			
			var shape = new THREE.Shape();
			shape.moveTo(-3.6, 3.6);
			shape.lineTo(-8.9, 3.6);
			shape.lineTo(-8.9, 2);
			shape.lineTo(-2.5, 2);
			shape.lineTo(-2.5, 2.5);
			shape.lineTo(-3.6, 3.6);
			var geometry = new THREE.ExtrudeGeometry( shape, extrudeSettings );
			var line10 = new THREE.Mesh(geometry, material);
			line10.position.z = -5;
			
			var shape = new THREE.Shape();
			shape.moveTo(-0.2, 0.2);
			shape.lineTo(-1.8, 0.2);
			shape.lineTo(-1.8, -1);
			shape.lineTo(0.3, -1);
			shape.lineTo(0.3, -6.4);
			shape.lineTo(-2.3, -7.3);
			shape.lineTo(-1.6, -8.7);
			shape.lineTo(4.8, -6.4);
			shape.lineTo(5, -5);
			shape.lineTo(1.9, -5.9);
			shape.lineTo(1.9, -1.9);
			shape.lineTo(-0.2, 0.2);
			var geometry = new THREE.ExtrudeGeometry( shape, extrudeSettings );
			var line11 = new THREE.Mesh(geometry, material);
			line11.position.z = -5;
			
			var shape = new THREE.Shape();
			shape.moveTo(-10, 6.6);
			shape.lineTo(-10, 5);
			shape.lineTo(-5, 5);
			shape.lineTo(-6.6, 6.6);
			shape.lineTo(-10, 6.6);
			var geometry = new THREE.ExtrudeGeometry( shape, extrudeSettings );
			var line12 = new THREE.Mesh(geometry, material);
			line12.position.z = -5;
			
			var shape = new THREE.Shape();
			shape.moveTo(-8.9, 8.9);
			shape.lineTo(-8.9, 8);
			shape.lineTo(-8, 8);
			shape.lineTo(-8.9, 8.9);
			var geometry = new THREE.ExtrudeGeometry( shape, extrudeSettings );
			var line13 = new THREE.Mesh(geometry, material);
			line13.position.z = -5;
			
			var shape = new THREE.Shape();
			shape.moveTo(5.2, -5.2);
			shape.quadraticCurveTo(6.5, -12.1, 8.95, -8.95);
			shape.lineTo(5.2, -5.2);
			var geometry = new THREE.ExtrudeGeometry( shape, extrudeSettings );
			var line14 = new THREE.Mesh(geometry, material);
			line14.position.z = -5;
			
			
			// Добавяме ги към обекта PART2 (името е фиксирано).
			part2.add( line8, line9, line10, line11, line12, line13, line14 );
			
		</script>
	</body>
</html>